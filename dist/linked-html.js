!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.LinkedHtml=t():e.LinkedHtml=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e["default"]:e}Object.defineProperty(t,"__esModule",{value:!0}),n(1),n(19);var o=n(34);t["default"]=r(o),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(2);r(r.S+r.F,"Object",{assign:n(12)})},function(e,t,n){"use strict";var r=n(3),o=n(4),i=n(5),u=n(10),a="prototype",s=function(e,t){return function(){return e.apply(t,arguments)}},c=function f(e,t,n){var c,l,h,p,v=e&f.G,d=e&f.P,y=v?r:e&f.S?r[t]||(r[t]={}):(r[t]||{})[a],g=v?o:o[t]||(o[t]={});v&&(n=t);for(c in n)l=!(e&f.F)&&y&&c in y,h=(l?y:n)[c],p=e&f.B&&l?s(h,r):d&&"function"==typeof h?s(Function.call,h):h,y&&!l&&u(y,c,h),g[c]!=h&&i(g,c,p),d&&((g[a]||(g[a]={}))[c]=h)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,e.exports=c},function(e,t){"use strict";var n="undefined",r=e.exports=typeof window!=n&&window.Math==Math?window:typeof self!=n&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t){"use strict";var n=e.exports={version:"1.2.1"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";var r=n(6),o=n(7);e.exports=n(8)?function(e,t,n){return r.setDesc(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){"use strict";var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){"use strict";e.exports=!n(9)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){"use strict";e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){"use strict";var r=n(3),o=n(5),i=n(11)("src"),u="toString",a=Function[u],s=(""+a).split(u);n(4).inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,n,u){"function"==typeof n&&(o(n,i,e[t]?""+e[t]:s.join(String(t))),"name"in n||(n.name=t)),e===r?e[t]=n:(u||delete e[t],o(e,t,n))})(Function.prototype,u,function(){return"function"==typeof this&&this[i]||a.call(this)})},function(e,t){"use strict";var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){"use strict";var r=n(13),o=n(15),i=n(17),u=n(18);e.exports=n(9)(function(){var e=Object.assign,t={},n={},r=Symbol(),o="abcdefghijklmnopqrst";return t[r]=7,o.split("").forEach(function(e){n[e]=e}),7!=e({},t)[r]||Object.keys(e({},n)).join("")!=o})?function(e,t){for(var n=r(e),a=arguments.length,s=1;a>s;)for(var c,f=o(arguments[s++]),l=i(f),h=l.length,p=0;h>p;)u(f,c=l[p++])&&(n[c]=f[c]);return n}:Object.assign},function(e,t,n){"use strict";var r=n(14);e.exports=function(e){return Object(r(e))}},function(e,t){"use strict";e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){"use strict";var r=n(16);e.exports=0 in Object("z")?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){"use strict";var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";var r=n(6);e.exports=function(e){var t=r.getKeys(e),n=r.getSymbols;if(n)for(var o,i=n(e),u=r.isEnum,a=0;i.length>a;)u.call(e,o=i[a++])&&t.push(o);return t}},function(e,t){"use strict";var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";var r=n(20),o=n(2),i=n(13),u=n(22),a=n(25),s=n(29),c=n(31);o(o.S+o.F*!n(33)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,f,l=i(e),h="function"==typeof this?this:Array,p=arguments[1],v=void 0!==p,d=0,y=c(l);if(v&&(p=r(p,arguments[2],2)),void 0==y||h==Array&&a(y))for(t=s(l.length),n=new h(t);t>d;d++)n[d]=v?p(l[d],d):l[d];else for(f=y.call(l),n=new h;!(o=f.next()).done;d++)n[d]=v?u(f,p,[o.value,d],!0):o.value;return n.length=d,n}})},function(e,t,n){"use strict";var r=n(21);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){"use strict";e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var r=n(23);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(i){var u=e["return"];throw void 0!==u&&r(u.call(e)),i}}},function(e,t,n){"use strict";var r=n(24);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){"use strict";e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";var r=n(26),o=n(27)("iterator");e.exports=function(e){return(r.Array||Array.prototype[o])===e}},function(e,t){"use strict";e.exports={}},function(e,t,n){"use strict";var r=n(28)("wks"),o=n(3).Symbol;e.exports=function(e){return r[e]||(r[e]=o&&o[e]||(o||n(11))("Symbol."+e))}},function(e,t,n){"use strict";var r=n(3),o="__core-js_shared__",i=r[o]||(r[o]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){"use strict";var r=n(30),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){"use strict";var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){"use strict";var r=n(32),o=n(27)("iterator"),i=n(26);e.exports=n(4).getIteratorMethod=function(e){return void 0!=e?e[o]||e["@@iterator"]||i[r(e)]:void 0}},function(e,t,n){"use strict";var r=n(16),o=n(27)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,u;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=(t=Object(e))[o])?n:i?r(t):"Object"==(u=r(t))&&"function"==typeof t.callee?"Arguments":u}},function(e,t,n){"use strict";var r=n(27)("iterator"),o=!1;try{var i=[7][r]();i["return"]=function(){o=!0},Array.from(i,function(){throw 2})}catch(u){}e.exports=function(e){if(!o)return!1;var t=!1;try{var n=[7],i=n[r]();i.next=function(){t=!0},n[r]=function(){return i},e(n)}catch(u){}return t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(35),a=r(u),s=n(44),c=r(s),f=n(45),l=r(f),h=n(47),p=r(h),v=n(49),d=r(v),y=n(50),g=r(y),b=n(52),m=r(b),w=n(53),O=r(w),_={link:c["default"],"class":l["default"],context:p["default"],on:d["default"],foreach:g["default"],prop:m["default"],text:O["default"]},j={string:{set:String},"int":{set:function(e){return parseInt(e,10)}},bool:{set:Boolean}},k=function(){function e(t){var n=this,r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=r.state,u=r.markers,a=r.filters,s=r.prefix;if(o(this,e),i&&Object(i)!==i)throw TypeError("Invalid 'state' option, object required.");switch(Object.defineProperties(this,{root:{value:this},state:{value:i||{}},_markers:{value:Object.assign({},_,u)},_filters:{value:Object.assign({},j,a)},_prefix:{value:(s||"-")+"-"},_exprs:{value:new Set}}),t.nodeType){case Node.ELEMENT_NODE:this._compile(t);break;case Node.DOCUMENT_FRAGMENT_NODE:Array.from(t.children).forEach(function(e){return n._compile(e)});break;default:throw new TypeError("Element or DocumentFragment required.")}}return i(e,[{key:"setState",value:function(e){e&&("function"==typeof e?e.call(this,this.state):Object.assign(this.state,e)),this._exprs.forEach(function(e){return e.value})}},{key:"link",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.value,r=t.observe,o=new a["default"](e,{engine:this,filters:this._filters});return void 0!==n&&o.setDefaultTo(n),r&&o.observe(r,!0),this._exprs.add(o),o}},{key:"_compile",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],r=this._prefix.length,o=Array.from(e.attributes).filter(function(e){return e.name.substr(0,r)===t._prefix}).reduce(function(n,o){var i=o.name.substr(r).replace(/-([a-z])/g,function(e){return e[1].toUpperCase()}),u=t._markers[i];try{if(!u)throw new ReferenceError("Marker '"+i+"' not found.");new u(t,e,o.value)}catch(a){var s=e.outerHTML.match(/^<[^<]+>/i);throw a.message=": "+a.message+"\n'"+i+"' -> "+s,a}return u._options&&u._options.breakCompile?!1:n},!0);o&&e.children.length&&Array.from(e.children).forEach(function(e){return t._compile(e,!1)}),n&&this.setState()}},{key:"_spawn",value:function(e,t,n){var r=Object.create(this);return Object.defineProperties(r,{state:{value:t,writable:!0},parent:{value:this},_exprs:{value:new Set}}),Object.assign(r,n),[].concat(e).forEach(function(e){return r._compile(e)}),r}}]),e}();t["default"]=k,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(s){o=!0,i=s}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(36),s=n(42),c=r(s),f=n(43),l=r(f),h=new RegExp("^([\\"+Object.keys(l["default"]).join("\\")+"]*)([^|]+)(\\|([^|]+))?$"),p=function(){function e(t){var n=this,r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],u=r.engine,a=r.filters;if(o(this,e),!t||"string"!=typeof t)throw new TypeError("'"+t+"': Invalid input type.");var s=t.match(h),f=i(s,5),p=f[1],v=f[2],d=f[4];if(this.filter={get:function(e){return e},set:function(e){return e}},d){if(!a[d])throw new ReferenceError("Filter '"+d+"' not found.");Object.assign(this.filter,a[d])}this.evaluate=v,this.context=function(){return void 0===u.state&&(u.state={}),u.state},Array.from(p).reduce(function(e,t){if(!l["default"][t])throw new TypeError("'"+t+"': Invalid flag.");return e.add(t),e},new Set).forEach(function(e){return l["default"][e](n,u)}),this.path=new c["default"](this.evaluate,this.context)}return u(e,[{key:"call",value:function(){var e;(e=this.path).call.apply(e,arguments)}},{key:"setDefaultTo",value:function(e){return this.path.set(this.filter.set(e),!0)}},{key:"observe",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],r=this.value;new a.Observer(this,"value",function(n){e(t.value,n.value)}),n&&e(r)}},{key:"value",get:function(){return this.filter.get(this.path.get())},set:function(e){this.path.set(this.filter.set(e))}}]),e}();t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e["default"]:e}Object.defineProperty(t,"__esModule",{value:!0});var o=n(37);t.State=r(o);var i=n(39);t.Observer=r(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(38),a=r(u),s=new WeakMap,c=0,f=!1,l=function(){function e(t){if(o(this,e),!e.isObject(t))throw new TypeError("Invalid arguments");var n=s.get(t);if(n)return n;s.set(t,this);var r=new a["default"];this.cache=Object.keys(t).reduce(function(n,o){var i=n[o]=t[o];return e.isObject(i)&&new e(i),r.set(i,o),n},{}),this.keyMap=r,this.target=t,this.lastCheck=e.now(),this.lastChange=0}return i(e,null,[{key:"now",value:function(){return f||(c+=1,f=window.requestAnimationFrame(function(){return f=void 0})),c}},{key:"isObject",value:function(e){return"object"==typeof e&&null!==e}},{key:"is",value:function(e,t){return 0===e&&0===t?1/e===1/t:e!==e?t!==t:e===t}}]),i(e,[{key:"isChanged",value:function(){var t=this,n=e.now();return n>this.lastCheck&&!function(){var r=!1;t.lastCheck=n,t.changelog={},Object.keys(t.cache).forEach(function(e){if(!t.target.hasOwnProperty(e)){var n=t.cache[e];t.changelog[e]={type:"delete",oldValue:n},r=!0}});var o=new a["default"],i={};t.cache=Object.keys(t.target).reduce(function(n,u){var a=t.target[u];if(t.cache.hasOwnProperty(u)?e.is(a,t.cache[u])||(t.changelog[u]=t.changelog[u]||{type:"set"},t.changelog[u].oldValue=t.cache[u],r=!0):(t.changelog[u]={type:"set"},r=!0),e.isObject(a)){var s=new e(a);s.isChanged()&&(r=!0,t.changelog[u]||(t.changelog[u]={type:"modify"},t.changelog[u].changelog=s.changelog))}if(t.changelog[u]){var c=t.keyMap.shift(a,u);c&&c!==u&&t.target[c]!==a&&(t.changelog[u].oldKey=c,t.changelog[c]?t.changelog[c].newKey=u:i[c]=u),i[u]&&(t.changelog[u].newKey=i[u])}return n[u]=a,o.set(a,u),n},{}),t.keyMap=o,r?t.lastChange=t.lastCheck:t.changelog=void 0}(),this.lastChange===n}}]),e}();t["default"]=l,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){n(this,e),this.map=new Map}return r(e,[{key:"set",value:function t(e,n){var t=this.map.get(e);return t||(t=new Set,this.map.set(e,t)),n&&t.add(n),t}},{key:"shift",value:function(e,t){var n=this.map.get(e);if(n&&n.size){if(n.has(t))return n["delete"](t),t;var r=!0,o=!1,i=void 0;try{for(var u,a=n[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var s=u.value;return n["delete"](s),s}}catch(c){o=!0,i=c}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw i}}}return!1}}]),e}();t["default"]=o,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(37),a=r(u),s=n(40),c=r(s),f=function(){function e(t,n,r){var i=this;if(o(this,e),!t||!n||!r)throw new TypeError("Invalid arguments");this.callback=r,this.revert=[],this.state=new a["default"]([].concat(n).reduce(function(e,n){var r=new c["default"](t,n);return e[n]=t[n],i.revert.push(r.observe(function(t){a["default"].is(e[n],t)?a["default"].isObject(t)&&i.check():(e[n]=t,i.check())})),e},{}))}return i(e,null,[{key:"requestAnimationFrame",value:function(e){var t=this;return this._request?this._callbacks.add(e):(this._callbacks=(new Set).add(e),this._request=window.requestAnimationFrame(function(){t._callbacks.forEach(function(e){return e()}),t._request=t._callbacks=void 0})),e}},{key:"cancelAnimationFrame",value:function(e){this._callbacks&&this._callbacks["delete"](e)}}]),i(e,[{key:"check",value:function(){var t=this;this.checkFn||(this.checkFn=e.requestAnimationFrame(function(){t.state.isChanged()&&t.callback(t.state.changelog),t.checkFn=void 0}))}},{key:"destroy",value:function(){this.checkFn&&e.cancelAnimationFrame(this.checkFn),this.revert.forEach(function(e){return e()})}}]),e}();t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(41),s=r(a),c=new WeakMap,f=function(){function e(t,n){var r=this;i(this,e);var o=e.singleton(t,n,this);return o!==this?o:(this.proxy=new s["default"](t,n,function(e){return r.getters.forEach(function(t){return t(e)})},function(e){return r.setters.forEach(function(t){return t(e)})}),this.getters=new Set,void(this.setters=new Set))}return u(e,null,[{key:"singleton",value:function(e,t,n){var r=c.get(e);if(r){if(r[t])return r[t];r[t]=n}else c.set(e,o({},t,n));return n}}]),u(e,[{key:"observe",value:function(e,t){var n=this;return this.getters.size||this.proxy.on(),this.getters.add(e),this.setters.add(t||e),function(){n.unobserve(e,t)}}},{key:"unobserve",value:function(e,t){this.getters["delete"](e),this.setters["delete"](t||e),this.getters.size||this.setters.size||this.proxy.off()}}]),e}();t["default"]=f,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,r,o,i){n(this,e),this.host=t,this.key=r,this.getter=o,this.setter=i||o}return r(e,[{key:"getOwnDescriptor",value:function(){var e=Object.getOwnPropertyDescriptor(this.host,this.key);if(e){if(!e.configurable)throw new TypeError("Cannot create proxy for not configurable property '"+this.key+"'");if(!e.get&&!e.set&&!e.writable)throw new TypeError("Cannot create proxy for readonly property '"+this.key+"'")}return e}},{key:"getProtoDescriptor",value:function(){for(var e=this,t=void 0,n=Object.getPrototypeOf(this.host);n&&!(t=Object.getOwnPropertyDescriptor(n,this.key));)n=Object.getPrototypeOf(n);return t&&(t.get||t.set||(t.get=function(){delete e.host[e.key];var t=e.host[e.key];return e.on(),t},t.set=function(t){delete e.host[e.key],e.host[e.key]=t,e.on()})),t}},{key:"on",value:function(){var e=this.getOwnDescriptor();e?this.ownProperty=!0:(this.ownProperty=!1,e=this.getProtoDescriptor()),e||(this.ownProperty=!0,this.notDefined=!0,e={enumerable:!0,writable:!0,configurable:!0}),this.desc=e,this.value=this.host[this.key],Object.defineProperty(this.host,this.key,{configurable:!0,enumerable:this.desc.enumerable,get:this.get.bind(this),set:this.set.bind(this)})}},{key:"off",value:function(){this.ownProperty?this.notDefined?delete this.host[this.key]:(this.desc.get||this.desc.set||(this.desc.value=this.value),Object.defineProperty(this.host,this.key,this.desc)):delete this.host[this.key]}},{key:"get",value:function(){return this.desc.get&&(this.value=this.desc.get.call(this.host)),this.getter(this.value),this.value}},{key:"set",value:function(e){this.notDefined=!1,this.desc.set&&this.desc.set.call(this.host,e),(this.desc.writable||this.desc.get||this.desc.set)&&(this.value=e),this.setter(this.value)}}]),e}();t["default"]=o,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,r){if(n(this,e),!t)throw new TypeError("Path cannot be empty.");this.evaluate=t,this.context=r,this.path=this.parse(t)}return r(e,[{key:"parse",value:function(e){var t=[],n=e.split("").reduce(function(e,n){switch(n){case".":return t.push({property:e,proto:Object}),"";case"[":return t.push({property:e,proto:Array}),"";case"]":return e}return e+n},"");return t.push({property:n}),t}},{key:"getContext",value:function(){var e=this.context();if(Object(e)!==e)throw new TypeError("Object required as path context.");return e}},{key:"get",value:function(){var e=this,t=this.getContext();return t&&this.path.every(function(n){var r=n.property,o=n.proto;if(t=t[r],t&&o&&!(t instanceof Object))throw new TypeError("'"+r+"' in '"+e.evaluate+"': Object instance required.");return t}),t}},{key:"set",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],r=this.path.reduce(function(e,n){var r=n.property,o=n.proto;if(o){if(e.context[r]){if(!(e.context[r]instanceof Object))throw new TypeError("'"+r+"' in '"+t.evaluate+"': Object instance required.")}else e.context[r]=o();e.context=e.context[r]}else e.property=r;return e},{context:this.getContext()}),o=r.context,i=r.property;return n&&void 0!==o[i]||(o[i]=e),o[i]}},{key:"call",value:function(){var e=this,t=this.path.reduce(function(t,n){var r=n.property,o=n.proto;if(o){if(t.context=t.context[r],!(t.context instanceof Object))throw new TypeError("'"+r+"' in '"+e.evaluate+"': Object instance required.")}else t.property=r;return t},{context:this.getContext()}),n=t.context,r=t.property;if("function"!=typeof n[r])throw new TypeError("'"+this.evaluate+"': Function required.");return n[r].apply(n,arguments)}},{key:"delete",value:function(){var e=this.getContext(),t={context:e,property:this.path[0].property};this.path.some(function(n){var r=n.property;return e.hasOwnProperty(r)?(Object.keys(e).length>1&&(t={context:e,property:r}),void(e=e[r])):!0}),delete t.context[t.property]}}]),e}();t["default"]=o,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={"!":function(e){var t=e.filter;e.filter={get:function(e){return t.get(!e)},set:function(e){return t.set(!e)}}},"@":function(e,t){e.context=function(){return t}},"&":function(e){var t=Object.getPrototypeOf(e),n=Object.getOwnPropertyDescriptor(t,"value");n.set=function(){},Object.defineProperty(e,"value",n),Object.defineProperty(e,"setDefaultTo",{value:function(){}})}};t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){for(var r=!0;r;){var o=e,i=t,u=n;a=c=s=void 0,r=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var s=a.get;return void 0===s?void 0:s.call(u)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=u,r=!0}},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t){r(this,e),this.node=t}return i(e,[{key:"observe",value:function(e){this.node.addEventListener("input",e)}},{key:"value",get:function(){return this.node.value},set:function(e){this.node.value!==e&&(this.node.value=e)}}]),e}(),a=(function(e){function t(){r(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return n(t,e),i(t,[{key:"observe",value:function(e){this.node.addEventListener("change",e)}}]),t}(u),function s(e,t,n){r(this,s);var o=new u(t),i=e.link(n,{value:o.value,observe:function(e){return o.value=e}});o.observe(function(){e.root.setState(function(){i.value=o.value})})});t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){for(var r=!0;r;){var o=e,i=t,u=n;a=c=s=void 0,r=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var s=a.get;return void 0===s?void 0:s.call(u)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=u,r=!0}},s=n(46),c=r(s),f=function(e){function t(){o(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),u(t,[{key:"link",value:function(e,t,n){var r=function(n){n?e.classList.add(t):e.classList.remove(t)};this.engine.link(n,{value:e.classList.contains(t),observe:r})}}]),t}(c["default"]);t["default"]=f,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(s){o=!0,i=s}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function i(e,t,o){var u=this;n(this,i),this.engine=e,o.split(";").forEach(function(e){var n=e.split(":"),o=r(n,2),i=o[0],a=o[1];if(!i||!a)throw new SyntaxError("'"+e+"': Invalid list element.");u.link(t,i.trim(),a.trim())})};t["default"]=o,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(48),u=r(i),a=function s(e,t,n){if(o(this,s),!t.children[0])throw new Error("No children elements.");var r=new u["default"](Array.from(t.childNodes),e);e.link(n,{value:{},observe:function(e){if(e){if(Object(e)!==e)throw new TypeError("Invalid context target.");r.setState(e).append()}else r.remove()}})};a._options={breakCompile:!0},t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,r,o){if(n(this,e),this.nodes=[].concat(t),this.host=o||this.nodes[0].parentElement,this.parentEngine=r,!this.host)throw new Error("Invalid host for template.");this.nodes[0].parentElement||(this.hidden=!0)}return r(e,[{key:"setState",value:function(e){return this.engine?this.engine.setState(function(){this.state=e}):this.engine=this.parentEngine._spawn(this.nodes.filter(function(e){return e.nodeType===Node.ELEMENT_NODE}),e),this}},{key:"getState",value:function(){if(!this.engine)throw new Error("Template does not fully initalized.");return this.engine.state}},{key:"append",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return(this.hidden||t)&&(this.nodes.forEach(function(t){e.host.insertBefore(t,n)}),this.hidden=!1),this}},{key:"remove",value:function(){var e=this;return this.hidden||!function(){var t=document.createDocumentFragment();e.nodes.forEach(function(e){return t.appendChild(e)}),e.hidden=!0}(),this}},{key:"clone",value:function(){var e=this.nodes.map(function(e){return document.importNode(e,!0)});return new this.constructor(e,this.parentEngine,this.host)}}]),e}();t["default"]=o,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){for(var r=!0;r;){var o=e,i=t,u=n;a=c=s=void 0,r=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var s=a.get;return void 0===s?void 0:s.call(u)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=u,r=!0}},s=n(46),c=r(s),f=function(e){function t(){o(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),u(t,[{key:"link",value:function(e,t,n){var r=this.engine.link(n);e.addEventListener(t,function(e){return r.call(e)})}}]),t}(c["default"]);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(51),a=r(u),s=function(){function e(t,n,r){if(o(this,e),!n.children[0])throw new Error("No children elements.");this.engine=t,this.node=n;var i=t.link(r),u=i.value,s=!1;if(void 0===u&&(u=i.setDefaultTo([]),s=!0),!Array.isArray(u))throw new TypeError("Invalid foreach target.");s?(this.items=this.createFromView(u),this.template=this.items[0].clone()):(this.items=this.createFromList(u),
this.items[0]?this.template=this.items[0].clone():this.template=new a["default"](n.children[0],this.engine),this.clear(u)),i.observe(this.render.bind(this))}return i(e,[{key:"createFromView",value:function(e){var t=this,n=this.node.children.length;return Array.from(this.node.children).map(function(r,o){var i=new a["default"](r,t.engine);return e[o]=i.setState(e[o],{index:o,length:n}).getState(),i})}},{key:"createFromList",value:function(e){var t=this,n=e.length,r=void 0;return e.map(function(o,i){return r=t.node.children[i]?new a["default"](t.node.children[i],t.engine).setState(e[i],{index:i,length:n}):r.clone().setState(e[i],{index:i,length:n}).append(!0),e[i]=r.getState(),r})}},{key:"clear",value:function(e){for(var t=e.length,n=this.node.children.length,r=t;n>r;r++)this.node.removeChild(this.node.children[t])}},{key:"render",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=n.type,o=n.changelog;if(!Array.isArray(e))throw new TypeError("Invalid foreach target.");var i=e.length;switch(r){case"modify":Object.assign(this.items,Object.keys(o).reduce(function(n,r){var u=o[r],a=u.type,s=u.oldKey,c=u.newKey;if("delete"===a)t.items[r]&&t.items[r].remove();else{var f=parseInt(r,10),l=t.items[s||r],h=!1;s&&(t.items[r]&&t.items[r].remove(),t.items[s]=null),(!l||c&&!s)&&(l=t.template.clone(),h=!0),l.setState(e[r],{index:f,length:i}),(h||s)&&l.append(!0,t.node.children[f]),n[r]=l}return n},{})),this.items.length=e.length;break;case"set":for(var u=this.items.length,a=e.map(function(e,n){var r=void 0;return r=u>n?t.items[n]:t.template.clone().append(!0),r.setState(e,{index:n,length:i}),r}),s=i;u>s;s++)this.items[s].remove();this.items=a}}}]),e}();s._options={breakCompile:!0},t["default"]=s,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return l.has(e)?l.get(e):Object.defineProperties(Object.create(e),{number:{get:function(){return this.index+1}},odd:{get:function(){return this.number%2!==0}},even:{get:function(){return this.number%2===0}},first:{get:function(){return 0===this.index}},last:{get:function(){return this.length===this.number}}})}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var o=e,i=t,u=n;a=c=s=void 0,r=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var s=a.get;return void 0===s?void 0:s.call(u)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=u,r=!0}},c=n(48),f=r(c),l=new WeakMap,h=function(e){function t(e,n,r){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,u(n),r)}return i(t,e),a(t,[{key:"setState",value:function(e,t){var n=t.index,r=t.length;return this.engine?this.engine.setState(function(){Object.assign(this,{state:e,index:n,length:r})}):this.engine=this.parentEngine._spawn(this.nodes.filter(function(e){return e.nodeType===Node.ELEMENT_NODE}),e,{index:n,length:r}),this}}]),t}(f["default"]);t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){for(var r=!0;r;){var o=e,i=t,u=n;a=c=s=void 0,r=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var s=a.get;return void 0===s?void 0:s.call(u)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=u,r=!0}},s=n(46),c=r(s),f=function(e){function t(){o(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),u(t,[{key:"link",value:function(e,t,n){var r=this.resolveProperty(e,t);this.engine.link(n,{value:r.get(),observe:r.set})}},{key:"resolveProperty",value:function(e,t){return t in e?{get:function(){return e[t]},set:function(n){return e[t]=n}}:{get:function(){var n=e.getAttribute(t);return n?n:void 0},set:function(n){n===!1?e.removeAttribute(t):e.setAttribute(t,n===!0?t:n)}}}}]),t}(c["default"]);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,u=n;a=c=s=void 0,r=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var s=a.get;return void 0===s?void 0:s.call(u)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=u,r=!0}},a=n(52),s=r(a),c=function(e){function t(e,n,r){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,"textContent: "+r)}return i(t,e),t}(s["default"]);t["default"]=c,e.exports=t["default"]}])});
//# sourceMappingURL=linked-html.js.map
