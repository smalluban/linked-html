!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.LinkedHtml=t():e.LinkedHtml=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e["default"]:e}Object.defineProperty(t,"__esModule",{value:!0}),n(1),n(17);var i=n(32);t.Engine=r(i);var o=n(40);t.Expression=r(o)},function(e,t,n){"use strict";var r=n(2);r(r.S+r.F,"Object",{assign:n(12)})},function(e,t,n){"use strict";var r=n(3),i=n(4),o=n(5),u=n(10),a="prototype",s=function(e,t){return function(){return e.apply(t,arguments)}},c=function f(e,t,n){var c,l,h,d,p=e&f.G,v=e&f.P,y=p?r:e&f.S?r[t]||(r[t]={}):(r[t]||{})[a],g=p?i:i[t]||(i[t]={});p&&(n=t);for(c in n)l=!(e&f.F)&&y&&c in y,h=(l?y:n)[c],d=e&f.B&&l?s(h,r):v&&"function"==typeof h?s(Function.call,h):h,y&&!l&&u(y,c,h),g[c]!=h&&o(g,c,d),v&&((g[a]||(g[a]={}))[c]=h)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,e.exports=c},function(e,t){"use strict";var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){"use strict";var n=e.exports={version:"1.2.3"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";var r=n(6),i=n(7);e.exports=n(8)?function(e,t,n){return r.setDesc(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){"use strict";var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){"use strict";e.exports=!n(9)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){"use strict";e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(11)("src"),u="toString",a=Function[u],s=(""+a).split(u);n(4).inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,n,u){"function"==typeof n&&(n.hasOwnProperty(o)||i(n,o,e[t]?""+e[t]:s.join(String(t))),n.hasOwnProperty("name")||i(n,"name",t)),e===r?e[t]=n:(u||delete e[t],i(e,t,n))})(Function.prototype,u,function(){return"function"==typeof this&&this[o]||a.call(this)})},function(e,t){"use strict";var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){"use strict";var r=n(6),i=n(13),o=n(15);e.exports=n(9)(function(){var e=Object.assign,t={},n={},r=Symbol(),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach(function(e){n[e]=e}),7!=e({},t)[r]||Object.keys(e({},n)).join("")!=i})?function(e,t){for(var n=i(e),u=arguments,a=u.length,s=1,c=r.getKeys,f=r.getSymbols,l=r.isEnum;a>s;)for(var h,d=o(u[s++]),p=f?c(d).concat(f(d)):c(d),v=p.length,y=0;v>y;)l.call(d,h=p[y++])&&(n[h]=d[h]);return n}:Object.assign},function(e,t,n){"use strict";var r=n(14);e.exports=function(e){return Object(r(e))}},function(e,t){"use strict";e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){"use strict";var r=n(16);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){"use strict";var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";var r=n(18),i=n(2),o=n(13),u=n(20),a=n(23),s=n(27),c=n(29);i(i.S+i.F*!n(31)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,f,l=o(e),h="function"==typeof this?this:Array,d=arguments,p=d.length,v=p>1?d[1]:void 0,y=void 0!==v,g=0,b=c(l);if(y&&(v=r(v,p>2?d[2]:void 0,2)),void 0==b||h==Array&&a(b))for(t=s(l.length),n=new h(t);t>g;g++)n[g]=y?v(l[g],g):l[g];else for(f=b.call(l),n=new h;!(i=f.next()).done;g++)n[g]=y?u(f,v,[i.value,g],!0):i.value;return n.length=g,n}})},function(e,t,n){"use strict";var r=n(19);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){"use strict";e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var r=n(21);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(o){var u=e["return"];throw void 0!==u&&r(u.call(e)),o}}},function(e,t,n){"use strict";var r=n(22);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){"use strict";e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";var r=n(24),i=n(25)("iterator");e.exports=function(e){return(r.Array||Array.prototype[i])===e}},function(e,t){"use strict";e.exports={}},function(e,t,n){"use strict";var r=n(26)("wks"),i=n(3).Symbol;e.exports=function(e){return r[e]||(r[e]=i&&i[e]||(i||n(11))("Symbol."+e))}},function(e,t,n){"use strict";var r=n(3),i="__core-js_shared__",o=r[i]||(r[i]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){"use strict";var r=n(28),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){"use strict";var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){"use strict";var r=n(30),i=n(25)("iterator"),o=n(24);e.exports=n(4).getIteratorMethod=function(e){return void 0!=e?e[i]||e["@@iterator"]||o[r(e)]:void 0}},function(e,t,n){"use strict";var r=n(16),i=n(25)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,u;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=(t=Object(e))[i])?n:o?r(t):"Object"==(u=r(t))&&"function"==typeof t.callee?"Arguments":u}},function(e,t,n){"use strict";var r=n(25)("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(u){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],u=o[r]();u.next=function(){n=!0},o[r]=function(){return u},e(o)}catch(a){}return n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,r){var i=n.length,u=Array.from(e.attributes).filter(function(e){return e.name.substr(0,i)===n}).reduce(function(n,o){var u=o.name.substr(i).replace(/-([a-z])/g,function(e){return e[1].toUpperCase()}),a=r[u];try{if(!a)throw new ReferenceError("marker '"+u+"' not found.");a(t,e,o.value)}catch(s){var c=e.outerHTML.match(/^<[^<]+>/i);throw s.message=": "+s.message+"\n'"+u+"' -> "+c,s}return a._options&&a._options.breakCompile?!1:n},!0);u&&e.children.length&&Array.from(e.children).forEach(function(e){return o(e,t,n,r)})}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(33),s=n(39),c=r(s),f=n(43),l=r(f),h=n(45),d=r(h),p=n(47),v=r(p),y=n(48),g=r(y),b=n(50),m=r(b),w=n(51),k=r(w),O={link:c["default"],"class":l["default"],context:d["default"],on:v["default"],foreach:g["default"],prop:m["default"],text:k["default"]},_={"int":{set:function(e){return parseInt(e,10)},get:String},bool:{set:Boolean,get:String}},x=new WeakMap,j=new WeakMap,E=new WeakMap,P=function(){function e(t){var n=this,r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],u=r.state,a=r.markers,s=r.filters,c=r.prefix,f=r.live;if(i(this,e),u&&Object(u)!==u)throw TypeError("Invalid 'state' option, object required.");var l=Object.defineProperties(e.config(this),{markers:{value:Object.assign({},O,a)},filters:{value:Object.assign({},_,s)},prefix:{value:(c||"-")+"-"},live:{value:void 0===f?!0:f}});switch(Object.defineProperty(this,"root",{value:this}),this.state=u||{},t.nodeType){case Node.ELEMENT_NODE:o(t,this,l.prefix,l.markers);break;case Node.DOCUMENT_FRAGMENT_NODE:Array.from(t.children).forEach(function(e){return o(e,n,l.prefix,l.markers)});break;default:throw new TypeError("Element or DocumentFragment required.")}}return u(e,null,[{key:"watch",value:function(e,t){var n=x.get(e);n||(n=new Set,x.set(e,n)),n.add(t)}},{key:"config",value:function(e){var t=j.get(e.root);return t||(t={},j.set(e,t)),t}},{key:"queue",value:function(e){var t=this;this._request?this._engines.add(e):(a.State.now(),this._engines=(new Set).add(e),this._request=window.requestAnimationFrame(function(){t._engines.forEach(function(e){var t=x.get(e);t&&t.forEach(function(e){return e()})}),t._request=t._engines=void 0}))}},{key:"spawn",value:function(t,n,r){var i=e.config(t),u=Object.create(t);return Object.defineProperty(u,"parent",{value:t}),u.state=r,n.forEach(function(e){return o(e,u,i.prefix,i.markers)}),u}}]),u(e,[{key:"state",get:function(){var t=E.get(this);return"object"==typeof t&&null!==t&&e.queue(this),t},set:function(t){E.set(this,t),e.queue(this)}}]),e}();t["default"]=P,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e["default"]:e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(34);t.State=r(i);var o=n(36);t.Observer=r(o)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(35),a=r(u),s=new WeakMap,c=0,f=!1,l=function(){function e(t){if(i(this,e),!e.isObject(t))throw new TypeError("Invalid arguments");var n=s.get(t);if(n)return n;s.set(t,this);var r=new a["default"];this.cache=Object.keys(t).reduce(function(n,i){var o=n[i]=t[i];return e.isObject(o)&&new e(o),r.set(o,i),n},{}),this.keyMap=r,this.target=t,this.lastCheck=e.now(),this.lastChange=0}return o(e,null,[{key:"now",value:function(){return f||(c+=1,f=window.requestAnimationFrame(function(){return f=void 0})),c}},{key:"isObject",value:function(e){return"object"==typeof e&&null!==e}},{key:"is",value:function(e,t){return 0===e&&0===t?1/e===1/t:e!==e?t!==t:e===t}}]),o(e,[{key:"isChanged",value:function(){var t=this,n=e.now();return n>this.lastCheck&&!function(){var r=!1;t.lastCheck=n,t.changelog={},Object.keys(t.cache).forEach(function(e){if(!t.target.hasOwnProperty(e)){var n=t.cache[e];t.changelog[e]={type:"delete",oldValue:n},r=!0}});var i=new a["default"],o={};t.cache=Object.keys(t.target).reduce(function(n,u){var a=t.target[u];if(t.cache.hasOwnProperty(u)?e.is(a,t.cache[u])||(t.changelog[u]=t.changelog[u]||{type:"set"},t.changelog[u].oldValue=t.cache[u],r=!0):(t.changelog[u]={type:"set"},r=!0),e.isObject(a)){var s=new e(a);s.isChanged()&&(r=!0,t.changelog[u]||(t.changelog[u]={type:"modify"},t.changelog[u].changelog=s.changelog))}if(t.changelog[u]){var c=t.keyMap.shift(a,u);c&&c!==u&&t.target[c]!==a&&(t.changelog[u].oldKey=c,t.changelog[c]?t.changelog[c].newKey=u:o[c]=u),o[u]&&(t.changelog[u].newKey=o[u])}return n[u]=a,i.set(a,u),n},{}),t.keyMap=i,r?t.lastChange=t.lastCheck:t.changelog=void 0}(),this.lastChange===n}}]),e}();t["default"]=l,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){n(this,e),this.map=new Map}return r(e,[{key:"set",value:function t(e,n){var t=this.map.get(e);return t||(t=new Set,this.map.set(e,t)),n&&t.add(n),t}},{key:"shift",value:function(e,t){var n=this.map.get(e);if(n&&n.size){if(n.has(t))return n["delete"](t),t;var r=!0,i=!1,o=void 0;try{for(var u,a=n[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var s=u.value;return n["delete"](s),s}}catch(c){i=!0,o=c}finally{try{!r&&a["return"]&&a["return"]()}finally{if(i)throw o}}}return!1}}]),e}();t["default"]=i,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(34),a=r(u),s=n(37),c=r(s),f=function(){function e(t,n,r){var o=this;if(i(this,e),!t||!n||!r)throw new TypeError("Invalid arguments");this.callback=r,this.revert=[],this.state=new a["default"]([].concat(n).reduce(function(e,n){var r=new c["default"](t,n);return e[n]=t[n],o.revert.push(r.observe(function(t){a["default"].is(e[n],t)?a["default"].isObject(t)&&o.check():(e[n]=t,o.check())})),e},{}))}return o(e,null,[{key:"requestAnimationFrame",value:function(e){var t=this;return this._request?this._callbacks.add(e):(this._callbacks=(new Set).add(e),this._request=window.requestAnimationFrame(function(){t._callbacks.forEach(function(e){return e()}),t._request=t._callbacks=void 0})),e}},{key:"cancelAnimationFrame",value:function(e){this._callbacks&&this._callbacks["delete"](e)}}]),o(e,[{key:"check",value:function(){var t=this;this.checkFn||(this.checkFn=e.requestAnimationFrame(function(){t.state.isChanged()&&t.callback(t.state.changelog),t.checkFn=void 0}))}},{key:"destroy",value:function(){this.checkFn&&e.cancelAnimationFrame(this.checkFn),this.revert.forEach(function(e){return e()})}}]),e}();t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(38),s=r(a),c=new WeakMap,f=function(){function e(t,n){var r=this;o(this,e);var i=e.singleton(t,n,this);return i!==this?i:(this.proxy=new s["default"](t,n,function(e){return r.getters.forEach(function(t){return t(e)})},function(e){return r.setters.forEach(function(t){return t(e)})}),this.getters=new Set,void(this.setters=new Set))}return u(e,null,[{key:"singleton",value:function(e,t,n){var r=c.get(e);if(r){if(r[t])return r[t];r[t]=n}else c.set(e,i({},t,n));return n}}]),u(e,[{key:"observe",value:function(e,t){var n=this;return this.getters.size||this.proxy.on(),this.getters.add(e),this.setters.add(t||e),function(){n.unobserve(e,t)}}},{key:"unobserve",value:function(e,t){this.getters["delete"](e),this.setters["delete"](t||e),this.getters.size||this.setters.size||this.proxy.off()}}]),e}();t["default"]=f,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,r,i,o){n(this,e),this.host=t,this.key=r,this.getter=i,this.setter=o||i}return r(e,[{key:"getOwnDescriptor",value:function(){var e=Object.getOwnPropertyDescriptor(this.host,this.key);if(e){if(!e.configurable)throw new TypeError("Cannot create proxy for not configurable property '"+this.key+"'");if(!e.get&&!e.set&&!e.writable)throw new TypeError("Cannot create proxy for readonly property '"+this.key+"'")}return e}},{key:"getProtoDescriptor",value:function(){for(var e=this,t=void 0,n=Object.getPrototypeOf(this.host);n&&!(t=Object.getOwnPropertyDescriptor(n,this.key));)n=Object.getPrototypeOf(n);return t&&(t.get||t.set||(t.get=function(){delete e.host[e.key];var t=e.host[e.key];return e.on(),t},t.set=function(t){delete e.host[e.key],e.host[e.key]=t,e.on()})),t}},{key:"on",value:function(){var e=this.getOwnDescriptor();e?this.ownProperty=!0:(this.ownProperty=!1,e=this.getProtoDescriptor()),e||(this.ownProperty=!0,this.notDefined=!0,e={enumerable:!0,writable:!0,configurable:!0}),this.desc=e,this.value=this.host[this.key],Object.defineProperty(this.host,this.key,{configurable:!0,enumerable:this.desc.enumerable,get:this.get.bind(this),set:this.set.bind(this)})}},{key:"off",value:function(){this.ownProperty?this.notDefined?delete this.host[this.key]:(this.desc.get||this.desc.set||(this.desc.value=this.value),Object.defineProperty(this.host,this.key,this.desc)):delete this.host[this.key]}},{key:"get",value:function(){return this.desc.get&&(this.value=this.desc.get.call(this.host)),this.getter(this.value),this.value}},{key:"set",value:function(e){this.notDefined=!1,this.desc.set&&this.desc.set.call(this.host,e),(this.desc.writable||this.desc.get||this.desc.set)&&(this.value=e),this.setter(this.value)}}]),e}();t["default"]=i,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t,n){var r=void 0;switch(t.type){case"checkbox":case"radio":r=new h(t);break;case"select-one":r=new d(t);break;case"select-multiple":r=new p(t);break;default:r=new l(t)}var i=new f["default"](e,n);i.set(r.get(),!0),i.observe(r.set.bind(r),!0,!1),r.observe(function(){return i.set(r.get())})}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,u=n;r=!1,null===i&&(i=Function.prototype);var a=Object.getOwnPropertyDescriptor(i,o);if(void 0!==a){if("value"in a)return a.value;var s=a.get;return void 0===s?void 0:s.call(u)}var c=Object.getPrototypeOf(i);if(null===c)return void 0;e=c,t=o,n=u,r=!0,a=c=void 0}},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t["default"]=u;var c=n(40),f=r(c),l=function(){function e(t){o(this,e),this.node=t}return s(e,[{key:"get",value:function(){return this.node.value}},{key:"set",value:function(e){this.value=e,this.node.value!==e&&(this.node.value=e)}},{key:"observe",value:function(e){this.node.addEventListener("input",e)}}]),e}(),h=function(e){function t(){o(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"get",value:function(){return this.node.checked?this.node.value:void 0}},{key:"set",value:function(e){this.node.value===e?this.node.checked=!0:this.node.checked=!1}},{key:"observe",value:function(e){this.node.addEventListener("change",e)}}]),t}(l),d=function(e){function t(e){var n=this;o(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),new MutationObserver(function(){n.set(n.value)}).observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}return i(t,e),s(t,[{key:"set",value:function(e){this.value=e,Array.from(this.node.options).some(function(t){return t.value===e?(t.selected=!0,!0):void 0})}},{key:"observe",value:function(e){this.node.addEventListener("change",e)}}]),t}(l),p=function(e){function t(){o(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"get",value:function(){var e=this.value||[],t=Array.from(this.node.selectedOptions).map(function(e){return e.value});return Object.assign(e,t),e.length=t.length,e}},{key:"set",value:function(e){if(this.value=e,!Array.isArray(e))throw new Error("Invalid values. Array instance required.");Array.from(this.node.options).forEach(function(t){t.selected=e.some(function(e){return e===t.value})})}}]),t}(d);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{!r&&a["return"]&&a["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(33),s=n(32),c=r(s),f=n(41),l=r(f),h=n(42),d=r(h),p=function(){function e(t,n){var r=this;if(i(this,e),!n||"string"!=typeof n)throw new TypeError("'"+n+"': Invalid input type.");var u=e.parse(n.trim()),a=o(u,3),s=a[0],c=a[1],f=a[2];if(this.engine=t,this.filter={get:function(e){return e},set:function(e){return e}},this.engine.state?this.context=function(){return r.engine.state}:this.context=function(){return void 0===r.engine.state&&(r.engine.state={}),r.engine.state},f){if(!t._filters[f])throw new ReferenceError("Filter '"+f+"' not found.");Object.assign(this.filter,t._filters[f])}s.forEach(function(e){return d["default"][e](r,t)}),this.path=new l["default"](c,this.context)}return u(e,null,[{key:"parse",value:function(e){for(var t=e.split("|"),n=o(t,2),r=n[0],i=n[1],u=new Set,a=0;a<r.length&&d["default"][r[a]];a++)u.add(r[a]);var s=r.substr(a);return[u,s,i]}}]),u(e,[{key:"get",value:function(){return this.filter.get(this.path.get())}},{key:"set",value:function(e,t){return this.path.set(this.filter.set(e),t)}},{key:"call",value:function(){var e;return(e=this.path).call.apply(e,arguments)}},{key:"observe",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],r=arguments.length<=2||void 0===arguments[2]?this.deep:arguments[2],i=void 0,o=this.get();r&&(i=new a.State(Object.defineProperty({},"value",{get:this.get.bind(this),configurable:!0,enumerable:!0}))),c["default"].watch(this.engine,function(){var n=t.get();i&&i.isChanged()?e(n,i.changelog.value):a.State.is(n,o)||e(n),o=n}),n&&e(o)}}]),e}();t["default"]=p,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,r){if(n(this,e),!t)throw new TypeError("Path cannot be empty.");this.evaluate=t,this.context=r,this.path=this.parse(t)}return r(e,[{key:"parse",value:function(e){var t=[],n=e.split("").reduce(function(e,n){switch(n){case".":return t.push({property:e,proto:Object}),"";case"[":return t.push({property:e,proto:Array}),"";case"]":return e}return e+n},"");return t.push({property:n}),t}},{key:"getContext",value:function(){var e=this.context();if(Object(e)!==e)throw new TypeError("Object required as path context.");return e}},{key:"get",value:function(){var e=this,t=this.getContext();return t&&this.path.every(function(n){var r=n.property,i=n.proto;if(t=t[r],t&&i&&!(t instanceof Object))throw new TypeError("'"+r+"' in '"+e.evaluate+"': Object instance required.");return t}),t}},{key:"set",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],r=this.path.reduce(function(e,n){var r=n.property,i=n.proto;if(i){if(e.context[r]){if(!(e.context[r]instanceof Object))throw new TypeError("'"+r+"' in '"+t.evaluate+"': Object instance required.")}else e.context[r]=i();e.context=e.context[r]}else e.property=r;return e},{context:this.getContext()}),i=r.context,o=r.property;return n&&void 0!==i[o]||(i[o]=e),i[o]}},{key:"call",value:function(){var e=this,t=this.path.reduce(function(t,n){var r=n.property,i=n.proto;if(i){if(t.context=t.context[r],!(t.context instanceof Object))throw new TypeError("'"+r+"' in '"+e.evaluate+"': Object instance required.")}else t.property=r;return t},{context:this.getContext()}),n=t.context,r=t.property;if("function"!=typeof n[r])throw new TypeError("'"+this.evaluate+"': Function required.");return n[r].apply(n,arguments)}},{key:"delete",value:function(){var e=this.getContext(),t={context:e,property:this.path[0].property};this.path.some(function(n){var r=n.property;return e.hasOwnProperty(r)?(Object.keys(e).length>1&&(t={context:e,property:r}),void(e=e[r])):!0}),delete t.context[t.property]}}]),e}();t["default"]=i,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={"!":function(e){var t=e.filter;e.filter={get:function(e){return t.get(!e)},set:function(e){return t.set(!e)}}},"@":function(e,t){e.context=function(){return t}},"&":function(e){e.set=function(){}},"*":function(e){e.deep=!0}};t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){a.list(n,function(n,r){var i=new u["default"](e,r);i.set(t.classList.contains(n),!0),i.observe(function(e){e?t.classList.add(n):t.classList.remove(n)},!0,!1)})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(40),u=r(o),a=n(44);e.exports=t["default"]},function(e,t){"use strict";function n(e,t){e.split(";").forEach(function(e){var n=e.split(":"),i=r(n,2),o=i[0],u=i[1];if(!o||!u)throw new SyntaxError("'"+e+"': Invalid list element.");t(o.trim(),u.trim())})}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{!r&&a["return"]&&a["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.list=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){if(!t.children[0])throw new Error("No children elements.");var r=new u["default"](Array.from(t.childNodes).filter(function(e){return e.nodeType===Node.ELEMENT_NODE}),e),i=new s["default"](e,n);i.set({},!0),i.observe(function(e){if(e){if("object"!=typeof e)throw new TypeError("Invalid context target.");r.setState(e).append()}else r.remove()},!0,!0)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(46),u=r(o),a=n(40),s=r(a);i._options={breakCompile:!0},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(32),a=r(u),s=function(){function e(t,n,r){if(i(this,e),this.nodes=[].concat(t),this.host=r||this.nodes[0].parentElement,this.parentEngine=n,!this.host)throw new Error("Invalid host for template.");this.nodes[0].parentElement||(this.hidden=!0)}return o(e,[{key:"getState",value:function(){if(!this.engine)throw new Error("Template does not fully initalized.");return this.engine.state}},{key:"setState",value:function(e){return this.engine?this.engine.state=e:this.engine=a["default"].spawn(this.parentEngine,this.nodes,e),this}},{key:"append",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return(this.hidden||t)&&(this.nodes.forEach(function(t){e.host.insertBefore(t,n)}),this.hidden=!1),this}},{key:"remove",value:function(){var e=this;return this.hidden||!function(){var t=document.createDocumentFragment();e.nodes.forEach(function(e){return t.appendChild(e)}),e.hidden=!0}(),this}},{key:"clone",value:function(){return new this.constructor(this.nodes.map(function(e){return e.cloneNode(!0)}),this.parentEngine,this.host)}}]),e}();t["default"]=s,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){a.list(n,function(n,r){var i=new u["default"](e,r);t.addEventListener(n,function(e){return i.call(e)})})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(40),u=r(o),a=n(44);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){return new l(e,t,n)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t["default"]=o;var a=n(49),s=r(a),c=n(40),f=r(c),l=function(){function e(t,n,r){if(i(this,e),!n.children[0])throw new Error("No children elements.");this.engine=t,this.node=n;var o=new f["default"](t,r),u=o.get(),a=!1;if(void 0===u&&(u=o.set([],!0),a=!0),!Array.isArray(u))throw new TypeError("Invalid foreach target.");a?(this.items=this.createFromView(u),this.template=this.items[this.items.length-1].clone()):(this.items=this.createFromList(u),this.items.length?this.template=this.items[this.items.length-1].clone():this.template=new s["default"](n.children[0],this.engine),this.clear(u)),o.observe(this.render.bind(this),!1,!0)}return u(e,[{key:"createFromView",value:function(e){var t=this,n=this.node.children.length;return Array.from(this.node.children).map(function(r,i){var o=new s["default"](r,t.engine);return e[i]=o.setState(e[i],{index:i,length:n}).getState(),o})}},{key:"createFromList",value:function(e){var t=this,n=e.length,r=void 0;return e.map(function(i,o){return r=t.node.children[o]?new s["default"](t.node.children[o],t.engine).setState(e[o],{index:o,length:n}):r.clone().setState(e[o],{index:o,length:n}).append(!0),e[o]=r.getState(),r})}},{key:"clear",value:function(e){for(var t=e.length,n=this.node.children.length,r=t;n>r;r++)this.node.removeChild(this.node.children[t]);
}},{key:"render",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=n.type,i=n.changelog;if(!Array.isArray(e))throw new TypeError("Invalid foreach target.");var o=e.length;switch(r){case"modify":Object.assign(this.items,Object.keys(i).reduce(function(n,r){var u=i[r],a=u.type,s=u.oldKey,c=u.newKey;if("delete"===a)t.items[r]&&t.items[r].remove();else{var f=parseInt(r,10),l=t.items[s||r],h=!1;s&&(t.items[r]&&t.items[r].remove(),t.items[s]=null),(!l||c&&!s)&&(l=t.template.clone(),h=!0),l.setState(e[r],{index:f,length:o}),(h||s)&&l.append(!0,t.node.children[f]),n[r]=l}return n},{})),this.items.length=e.length;break;case"set":for(var u=this.items.length,a=e.map(function(e,n){var r=void 0;return r=u>n?t.items[n]:t.template.clone().append(!0),r.setState(e,{index:n,length:o}),r}),s=o;u>s;s++)this.items[s].remove();this.items=a}}}]),e}();o._options={breakCompile:!0},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){if(l.has(e))return l.get(e);var t=Object.defineProperties(Object.create(e),{number:{get:function(){return this.index+1}},odd:{get:function(){return this.number%2!==0}},even:{get:function(){return this.number%2===0}},first:{get:function(){return 0===this.index}},last:{get:function(){return this.length===this.number}}});return l.set(e,t),t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,o=t,u=n;r=!1,null===i&&(i=Function.prototype);var a=Object.getOwnPropertyDescriptor(i,o);if(void 0!==a){if("value"in a)return a.value;var s=a.get;return void 0===s?void 0:s.call(u)}var c=Object.getPrototypeOf(i);if(null===c)return void 0;e=c,t=o,n=u,r=!0,a=c=void 0}},c=n(46),f=r(c),l=new WeakMap,h=function(e){function t(e,n,r){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,u(n),r)}return o(t,e),a(t,[{key:"setState",value:function(e,n){var r=n.index,i=n.length;return s(Object.getPrototypeOf(t.prototype),"setState",this).call(this,e),Object.assign(this.engine,{index:r,length:i}),this}}]),t}(f["default"]);t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){s.list(n,function(n,r){var i=o(t,n),u=new a["default"](e,r);u.set(i.get(),!0),u.observe(i.set,!0)})}function o(e,t){return t in e?{get:function(){return e[t]},set:function(n){return e[t]=n}}:{get:function(){var n=e.getAttribute(t);return n?n:void 0},set:function(n){n===!1||void 0===n||null===n?e.removeAttribute(t):e.setAttribute(t,n===!0?t:n)}}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var u=n(40),a=r(u),s=n(44);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){u["default"](e,t,"textContent: "+n)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(50),u=r(o);e.exports=t["default"]}])});
//# sourceMappingURL=linked-html.js.map
